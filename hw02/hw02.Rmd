---
title: "hw02"
author: "Greg Rousis"
date: "2/4/2021"
output: 
  html_document: default
  github_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(gapminder)
library(tidyverse)
library(palmerpenguins)
```


# Exercise 1: Basic dplyr


```{r exercise 1}

#Exercises 1.1 and 1.2

gapminder %>% 
  filter(country == c("Afghanistan", "Iraq", "Syria")) %>% 
  select(country, gdpPercap)

#Exercise 1.3

gapminder %>% 
  mutate(lifExpChange = lifeExp - lag(lifeExp)) %>% 
  filter(lifExpChange < 0)

#Exercise 1.4

gapminder %>% 
  group_by(country) %>% 
  slice_max(gdpPercap)

#Exercies 1.5

gapminder %>% 
  filter(country == "Canada") %>% 
  ggplot() +
  aes(x = lifeExp,
      y = gdpPercap) +
  geom_point() +
  scale_y_log10("GDP per capita", labels = scales::comma) +
  xlab("Life Expectancy") +
  theme_classic()


```




# Exercise 2: Exploring Variables

```{r exercise 2}

#Exercise 2.1

penguins %>% 
  summarize(Mean_bill_length = mean(bill_length_mm, na.rm = TRUE),
            sd_bill_length = sd(bill_length_mm, na.rm = TRUE),
            Mean_mass = mean(body_mass_g, na.rm = TRUE),
            sd_mass = sd(body_mass_g, na.rm = TRUE),
            median_bill_length = median(bill_length_mm, na.rm = TRUE),
            median_mass = median(body_mass_g, na.rm = TRUE))

penguins %>% 
  group_by(species, sex) %>% 
  filter(!is.na(sex)) %>% 
  summarize(Mean_bill_length = mean(bill_length_mm, na.rm = TRUE),
            sd_bill_length = sd(bill_length_mm, na.rm = TRUE),
            Mean_mass = mean(body_mass_g, na.rm = TRUE),
            sd_mass = sd(body_mass_g, na.rm = TRUE),
            median_bill_length = median(bill_length_mm, na.rm = TRUE),
            median_mass = median(body_mass_g, na.rm = TRUE))

ggplot(penguins) +
  aes(x = body_mass_g,
      y = bill_length_mm,
      fill = species,
      color = species) +
  geom_jitter(alpha = 0.5) +
  geom_smooth(method = "lm",
              alpha = 0.1) +
  ylab("Bill Length (mm)") +
  xlab("Body mass (grams)") +
  theme_classic() +
  theme(legend.position = "bottom")


```




